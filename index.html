<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dossier de Postulación – Escuela de Sensibilización Tecnológica 2025</title>
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- jQuery CDN -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link rel="stylesheet" href="css/custom.css">
  <style>
    /* Splash screen styles */
    #splash-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #0d1117;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 50;
      transition: opacity 0.5s ease-out;
    }

    #splash-screen.hidden {
      opacity: 0;
      pointer-events: none;
    }

    @media print {
      .page { page-break-after: always; }
      a:hover { text-decoration: none; }
    }
    .speech-bubble{
    position:absolute;
    left:100%;                 /* ancla al costado derecho */
    top:50%;
    transform:translate(1rem,-50%) scale(.8); /* desplazamiento + escala inicial */
    padding:.6rem 1rem;
    max-width:16rem;
    color:#000;background:#fff;
    border-radius:.75rem;
    box-shadow:0 4px 8px rgba(0,0,0,.25);
    opacity:0;pointer-events:none;
    transition:transform .25s ease-out,opacity .25s ease-out;
    text-align:left;z-index:10;
  }
  .speech-bubble.show{
    opacity:1;
    transform:translate(1rem,-50%) scale(1);  /* escala final */
  }
  /* Cola lateral */
  .speech-bubble::after{
    content:"";
    position:absolute;
    left:-.5rem;               /* pega la cola al borde izquierdo de la burbuja */
    top:calc(50% - .5rem);
    border-width:.5rem .5rem .5rem 0;
    border-style:solid;
    border-color:transparent #fff transparent transparent;
  }

  .speech-bubble-mobile{
    position:absolute;
    top:100%;                 /* justo debajo del avatar */
    left:50%;
    transform:translate(-50%,1rem) scale(.8);
    padding:.6rem 1rem;
    width: max-content;
    max-width: 60vw;
    min-width: 16rem;
    color:#000;background:#fff;
    border-radius:.75rem;
    box-shadow:0 4px 8px rgba(0,0,0,.25);
    opacity:0;pointer-events:none;
    transition:transform .25s ease-out,opacity .25s ease-out;
    z-index:30;text-align:left;
  }
  .speech-bubble-mobile.show{
    opacity:1;
    transform:translate(-50%,1rem) scale(1);
  }
  .speech-bubble-mobile::after{
    content:"";
    position:absolute;
    top:-.5rem;               /* cola hacia ARRIBA */
    left:50%;transform:translateX(-50%);
    border-width:.5rem;
    border-style:solid;
    border-color:transparent transparent #fff transparent;
  }
  </style>
</head>
<body class="bg-[#0d1117] text-gray-200 font-sans leading-relaxed">

  <div id="splash-screen" class="fixed inset-0 flex items-center justify-center bg-[#0d1117] z-50">
    <h1 class="text-4xl sm:text-5xl font-extrabold tracking-tight text-green-400 drop-shadow-lg">Benjamín Rebolledo</h1>
  </div>

  <!-- PORTADA -->
  <section class="page h-screen flex flex-col items-center justify-center text-center px-6">
    <h1 class="text-4xl sm:text-5xl font-extrabold tracking-tight text-green-400 drop-shadow-lg">
      Benjamín Rebolledo
    </h1>
    <p class="mt-4 text-lg sm:text-xl text-gray-400">
      Dossier de Postulación · Escuela de Sensibilización Tecnológica 2025
    </p>
    <div class="mt-10 relative">
      <div class="w-48 h-48 rounded-full overflow-hidden ring-4 ring-green-500/60 shadow-lg">
        <img id="portrait" src="assets/img/boca-cerrada.webp" alt="Retrato de Benjamín" class="object-cover w-full h-full">
      </div>
      <div id="speech-bubble" class="speech-bubble"></div>
      <div id="speech-bubble-mobile" class="speech-bubble-mobile"></div>
    </div>
    <footer class="mt-28 text-sm text-gray-500 sm:mt-12">
      <p>Ejército 435 · Concepción · Chile</p>
      <p>+56 9 3319 7338 — b.rebolledo@duocuc.cl</p>
    </footer>
  </section>

 <!-- SOBRE MÍ -->
 <section class="page max-w-3xl mx-auto py-12 px-8">
  <h2 class="text-3xl font-bold text-green-400 mb-8">Sobre mí</h2>
  <p class="mb-6 text-justify">
    Soy estudiante de Analista Programador Computacional en <strong>DUOC UC</strong>, con formación técnica en conectividad y redes. He desarrollado soluciones web combinando lenguajes como <em>Python</em>, <em>JavaScript</em> y <em>TypeScript</em>, y frameworks como <em>Angular</em>, <em>Flask</em> y <em>Django</em>, tanto en contextos académicos como en proyectos reales como <strong>Tech Farming</strong>.
  </p>
  <p class="mb-6 text-justify">
    Me apasiona el desarrollo de software con impacto tangible, especialmente cuando la tecnología se conecta con la vida cotidiana, el territorio y la comunidad. Encuentro en el IoT una forma fascinante de percibir el entorno físico y traducirlo al mundo digital, generando datos que pueden transformarse en decisiones con sentido.
  </p>
  <p class="mb-6 text-justify">
    Además, tengo un fuerte interés por la experiencia de usuario (UX/UI) como puente entre lo técnico y lo humano. Creo que una interfaz bien diseñada no solo facilita el uso de la tecnología, sino que también comunica valores, genera confianza y crea vínculos reales entre las personas y los sistemas que usamos.
  </p>
  <p class="mb-6 text-justify">
    Aspiro a crear tecnología intuitiva, funcional y emocionalmente significativa.
  </p>
  <div class="grid sm:grid-cols-2 gap-8">
    <div>
      <h3 class="text-xl font-semibold text-green-300 mb-3">Habilidades técnicas</h3>
      <ul class="list-disc list-inside space-y-1 text-gray-300">
        <li>Desarrollo web: Angular 18+, Django, Flask</li>
        <li>Bases de datos: PostgreSQL, InfluxDB, MySQL</li>
        <li>APIs REST, Git & GitHub</li>
        <li>IoT & Raspberry Pi (GPIO, sensores)</li>
      </ul>
    </div>
    <div>
      <h3 class="text-xl font-semibold text-green-300 mb-3">Habilidades blandas</h3>
      <ul class="list-disc list-inside space-y-1 text-gray-300">
        <li>Comunicación efectiva y divulgación técnica</li>
        <li>Resolución creativa de problemas</li>
        <li>Liderazgo ágil (Scrum Master)</li>
        <li>Aprendizaje continuo y adaptabilidad</li>
      </ul>
    </div>
  </div>
</section>

<!-- PROYECTO DESTACADO -->
<section class="page max-w-5xl mx-auto py-12 px-8">
  <h2 class="text-3xl font-bold text-green-400 mb-8">Proyecto Destacado · Tech Farming</h2>
  <div class="grid lg:grid-cols-2 gap-6 items-start">
    <figure class="rounded-lg overflow-hidden shadow-xl ring-1 ring-green-600/50">
      <img src="assets/img/techfarming-dashboard.webp" alt="Mockup Tech Farming" class="object-cover w-full h-full">
    </figure>
    <div class="space-y-4 text-gray-300">
      <p><strong>Tech Farming</strong> es una plataforma inteligente de agricultura de precisión desarrollada como proyecto académico-profesional (APT) en DUOC UC. Combina IoT, visualización de datos en tiempo real y aprendizaje automático para optimizar el cuidado de invernaderos.</p>
      <ul class="list-disc list-inside space-y-1">
        <li>Frontend: Angular 18+ · Tailwind CSS · DaisyUI</li>
        <li>Backend: Flask · APIs REST</li>
        <li>Bases de datos: PostgreSQL e InfluxDB</li>
        <li>Modelo Random Forest para predicción de temperatura</li>
        <li>Integración con sensores reales vía Raspberry Pi</li>
      </ul>
      <p><em>Aprendizaje:</em> Potenció mi visión sobre el potencial social del software y el cruce con lo territorial y visual.</p>
    </div>
  </div>
  <div class="mt-10 grid md:grid-cols-3 gap-4">
    <img src="assets/img/techfarming-sensors.webp" alt="Sensores" class="rounded-lg shadow-md">
    <img src="assets/img/techfarming-maps.webp" alt="Mapa de Zonas" class="rounded-lg shadow-md">
    <img src="assets/img/techfarming-analytics.webp" alt="Analytics" class="rounded-lg shadow-md">
  </div>
</section>

<!-- MOTIVACIÓN CREATIVA -->
<section class="page max-w-4xl mx-auto py-16 px-8 flex flex-col items-center text-center">
  <blockquote class="text-2xl sm:text-3xl font-light italic text-gray-100 mb-10 max-w-2xl">
    "La tecnología cobra verdadero sentido cuando despierta sensibilidad y promueve nuevas formas de habitar el mundo."
  </blockquote>
  <div class="w-full max-w-xl h-64 border-2 border-dashed border-gray-500/40 rounded-lg flex items-center justify-center mb-8">
    <p class="text-gray-500">[Espacio para boceto / diagrama de tu proyecto artístico]</p>
  </div>
  <p class="text-gray-300 max-w-2xl">
    En esta Escuela deseo desarrollar “<strong>Sensores de Ansiedad – La Máquina Siente</strong>”, una instalación interactiva que representa la fragilidad emocional de los sistemas tecnológicos ante la observación humana. Utilizando sensores y visión por computadora, el proyecto explora cómo un personaje digital tridimensional reacciona emocionalmente al acercamiento del público. Este ser sensible, en lugar de registrar datos pasivamente, expresa ansiedad, calma o miedo, dependiendo de cómo se produce la interacción.
  </p>
  <p class="mt-4 text-gray-300 max-w-2xl">
    Con esta obra quiero cuestionar la lógica de la vigilancia, proponiendo una relación afectiva con lo digital. La instalación traduce información técnica en un lenguaje poético, invitando a reflexionar sobre nuestra presencia, empatía y responsabilidad frente a lo que las máquinas sienten o podrían sentir.
  </p>
  <p class="mt-8 text-gray-400">¡Gracias por considerar mi postulación!</p>
</section>
  <script src="js/scripts.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      var splash = document.getElementById('splash-screen');
      if (!splash) return;
      var title = document.querySelector('section.page h1');
      var splashTitle = splash.querySelector('h1');
      if (!title || !splashTitle) return;

      setTimeout(function () {
        var targetRect = title.getBoundingClientRect();
        var splashRect = splashTitle.getBoundingClientRect();
        var dx = targetRect.left - splashRect.left;
        var dy = targetRect.top - splashRect.top;

        splashTitle.style.transition = 'transform 0.6s ease';
        splashTitle.style.transform = 'translate(' + dx + 'px, ' + dy + 'px)';

          splashTitle.addEventListener('transitionend', function handleMove() {
            splashTitle.removeEventListener('transitionend', handleMove);
            splash.classList.add('hidden');
            splash.addEventListener('transitionend', function () {
              splash.remove();
            });
          });
      }, 2000);
    });
    (function () {
      /* Rutas de los frames de boca */
      const frames = {
        closed: 'assets/img/boca-cerrada.webp',
        half:   'assets/img/boca-media.webp',
        open:   'assets/img/boca-abierta.webp',
      };

      const TYPE_DELAY   = 75;   // ms por carácter impreso
      const PHONEME_HOLD = 120;   // ms que la boca permanece abierta
      const END_SILENCE  = 1500; // ms antes de cerrar tras terminar

      let portrait, bubble, writing = false, openT;

      /* Utilidades */
      const isVowel = c => /[aeiouáéíóúü]/i.test(c);
      const isPause = c => c === ' ' || c === '\n' || /[,.!?]/.test(c);

      const setMouth = state => { if (portrait) portrait.src = frames[state]; };

      function cycleOpen() {
        setMouth('open');
        clearTimeout(openT);
        openT = setTimeout(() => setMouth('half'), PHONEME_HOLD);
      }

      function speak(text, onDone) {
        if (writing) return;           // evita solapar llamadas
        writing = true;
        let i = 0;
        bubble.textContent = '';
        bubble.classList.add('show');

        (function typeLoop() {
          if (i < text.length) {
            const ch = text[i];
            bubble.textContent += ch;

            if (isPause(ch)) {
              setMouth('closed');
            } else if (isVowel(ch)) {
              cycleOpen();             // gesto de vocal (aproxima sílaba)
            } else {
              setMouth('half');        // consonante
            }

            i++;
            setTimeout(typeLoop, TYPE_DELAY);
          } else {
            /* Fin de frase */
            clearTimeout(openT);
            setTimeout(() => {
              setMouth('closed');
              bubble.classList.remove('show');
              writing = false;
              if (onDone) onDone();
            }, END_SILENCE);
          }
        })();
      }

      /* Secuencia de arranque */
      document.addEventListener('DOMContentLoaded', () => {
        portrait = document.getElementById('portrait');
        const isMobile = window.innerWidth < 640;
        bubble = document.getElementById(isMobile ? 'speech-bubble-mobile' : 'speech-bubble');

        const splash      = document.getElementById('splash-screen');
        const splashTitle = splash?.querySelector('h1');

        function launchGreeting() {
          speak('Hola. ¡Bienvenid@ a mi dossier! Gracias por estar aquí.', () => {
            enableEyeTracking()
          });
        }

        /* Coordinación con la animación del splash */
        if (splash && splashTitle) {
          splashTitle.addEventListener('transitionend', function handler() {
            splashTitle.removeEventListener('transitionend', handler);
            setTimeout(launchGreeting, 350);
          });
        } else {
          setTimeout(launchGreeting, 500);
        }
      });
    })();
    function enableEyeTracking() {
      const avatar = document.getElementById('portrait');
      if (!avatar) return;

      /* --- CONFIGURACIÓN --- */
      const BLINK_CLOSED_MS = 140;
      const IDLE_DELAY_MS   = 3000;
      const REST_MIN_MS     = 3000;
      const REST_MAX_MS     = 4000;
      const FOCUS_MIN_MS    = 8000;
      const FOCUS_MAX_MS    = 12000;
      const GLANCE_MIN_MS   = 4000;
      const GLANCE_MAX_MS   = 6000;

      let idleT, blinkT, glanceT;
      let isTracking = false;
      let currentSrc = 'look-center.webp';
      let targetSrc = 'look-center.webp';

      const isMobile = 'ontouchstart' in window || navigator.maxTouchPoints > 0;

      function setAvatar(imgName) {
        avatar.src = `assets/img/${imgName}`;
        currentSrc = imgName;
      }

      const rnd = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;

      function scheduleBlink(isFocus) {
        clearTimeout(blinkT);
        const delay = isFocus ? rnd(FOCUS_MIN_MS, FOCUS_MAX_MS) : rnd(REST_MIN_MS, REST_MAX_MS);

        blinkT = setTimeout(() => {
          const last = currentSrc;
          setAvatar('close-eyes.webp');
          setTimeout(() => setAvatar(last), BLINK_CLOSED_MS);
          scheduleBlink(isFocus);
        }, delay);
      }

      function resetIdleTimer() {
        clearTimeout(idleT);
        idleT = setTimeout(() => {
          isTracking = false;
          targetSrc = 'look-center.webp';
          setAvatar(targetSrc);
          scheduleBlink(false);
        }, IDLE_DELAY_MS);
      }

      function trackEye(e) {
        const rect = avatar.getBoundingClientRect();
        const cx = rect.left + rect.width / 2;
        const cy = rect.top + rect.height / 2;
        const dx = e.clientX - cx;
        const dy = e.clientY - cy;
        const dist = Math.hypot(dx, dy);
        const radius = rect.width / 2;

        let src = 'look-center.webp';

        if (dist > radius) {
          const angle = Math.atan2(dy, dx) * 180 / Math.PI;
          if      (angle >=  -22 && angle <   22) src = 'look-right.webp';
          else if (angle >=   22 && angle <   67) src = 'look-down-right.webp';
          else if (angle >=   67 && angle <  112) src = 'look-down.webp';
          else if (angle >=  112 && angle <  157) src = 'look-down-left.webp';
          else if (angle >=  157 || angle < -157) src = 'look-left.webp';
          else if (angle >= -157 && angle < -112) src = 'look-up-left.webp';
          else if (angle >= -112 && angle <  -67) src = 'look-up.webp';
          else if (angle >=  -67 && angle <  -22) src = 'look-up-right.webp';
        }

        if (src !== targetSrc) {
          targetSrc = src;
          setAvatar(src);
        }

        if (!isTracking) {
          isTracking = true;
          scheduleBlink(true);
        }

        resetIdleTimer();
      }

      function scheduleMobileGlance() {
        const directions = [
          'look-left.webp', 'look-right.webp', 'look-up.webp',
          'look-up-left.webp', 'look-up-right.webp',
          'look-center.webp'
        ];

        function nextGlance() {
          const pick = directions[Math.floor(Math.random() * directions.length)];
          setAvatar(pick);
          glanceT = setTimeout(nextGlance, rnd(GLANCE_MIN_MS, GLANCE_MAX_MS));
        }

        nextGlance();
      }

      /* --- Inicio según tipo de dispositivo --- */
      if (isMobile) {
        scheduleBlink(false);
        scheduleMobileGlance();
      } else {
        let rafScheduled = false;
        document.addEventListener('mousemove', (e) => {
          if (!rafScheduled) {
            rafScheduled = true;
            requestAnimationFrame(() => {
              trackEye(e);
              rafScheduled = false;
            });
          }
        });

        scheduleBlink(false);
        resetIdleTimer();
      }
    }

  </script>
</body>
</html>